<!DOCTYPE html>
<html>
<head>
 <title>iPhone Simulator</title>
 <link rel="stylesheet" type="text/css" href="style.css" />
</head>

<body>
	<div id="iphone">
		<div>
			<h2 id = "time"></h2>
			<p id = "date"></p>
		</div>
		<div id = "grids">
		<canvas class="sbIcon" id="c1" width="60" height="60" draggable="true" ondragstart="drag(event)" ondrop="drop(event)" ondragover="allowDrop(event)"></canvas>

		<canvas class="sbIcon" id="c2" width="60" height="60" draggable="true" ondragstart="drag(event)" ondrop="drop(event)" ondragover="allowDrop(event)"></canvas>

		<canvas class="sbIcon" id="c3" width="60" height="60" draggable="true" ondragstart="drag(event)" ondrop="drop(event)" ondragover="allowDrop(event)"></canvas>
		<canvas class="sbIcon" id="c4" width="60" height="60" draggable="true" ondragstart="drag(event)" ondrop="drop(event)" ondragover="allowDrop(event)"></canvas>
		<br>
		<canvas class="sbIcon" id="c5" width="60" height="60" draggable="true" ondragstart="drag(event)" ondrop="drop(event)" ondragover="allowDrop(event)"></canvas>
		<canvas class="sbIcon" id="c6" width="60" height="60" draggable="true" ondragstart="drag(event)" ondrop="drop(event)" ondragover="allowDrop(event)"></canvas>
		<canvas class="sbIcon" id="c7" width="60" height="60" draggable="true" ondragstart="drag(event)" ondrop="drop(event)" ondragover="allowDrop(event)"></canvas>
		<canvas class="sbIcon" id="c8" width="60" height="60" draggable="true" ondragstart="drag(event)" ondrop="drop(event)" ondragover="allowDrop(event)"></canvas>
		<br>
		<canvas class="sbIcon" id="c9" width="60" height="60" draggable="true" ondragstart="drag(event)" ondrop="drop(event)" ondragover="allowDrop(event)"></canvas>
		<canvas class="sbIcon" id="c10" width="60" height="60" draggable="true" ondragstart="drag(event)" ondrop="drop(event)" ondragover="allowDrop(event)"></canvas>
		<canvas class="sbIcon" id="c11" width="60" height="60" draggable="true" ondragstart="drag(event)" ondrop="drop(event)" ondragover="allowDrop(event)"></canvas>
		<canvas class="sbIcon" id="c12" width="60" height="60" draggable="true" ondragstart="drag(event)" ondrop="drop(event)" ondragover="allowDrop(event)"></canvas>
		<br>
		<canvas class="sbIcon" id="c13" width="60" height="60" draggable="true" ondragstart="drag(event)" ondrop="drop(event)" ondragover="allowDrop(event)"></canvas>
		<canvas class="sbIcon" id="c14" width="60" height="60" draggable="true" ondragstart="drag(event)" ondrop="drop(event)" ondragover="allowDrop(event)"></canvas>
		<canvas class="sbIcon" id="c15" width="60" height="60" draggable="true" ondragstart="drag(event)" ondrop="drop(event)" ondragover="allowDrop(event)"></canvas>
		<canvas class="sbIcon" id="c16" width="60" height="60" draggable="true" ondragstart="drag(event)" ondrop="drop(event)" ondragover="allowDrop(event)"></canvas>
		<br>
		<canvas class="sbIcon" id="c17" width="60" height="60" draggable="true" ondragstart="drag(event)" ondrop="drop(event)" ondragover="allowDrop(event)"></canvas>
		<canvas class="sbIcon" id="c18" width="60" height="60" draggable="true" ondragstart="drag(event)" ondrop="drop(event)" ondragover="allowDrop(event)"></canvas>
		<canvas class="sbIcon" id="c19" width="60" height="60" draggable="true" ondragstart="drag(event)" ondrop="drop(event)" ondragover="allowDrop(event)"></canvas>
		<canvas class="sbIcon" id="c20" width="60" height="60" draggable="true" ondragstart="drag(event)" ondrop="drop(event)" ondragover="allowDrop(event)"></canvas>
	</div>
	</div>
	<div id = "messages">
		<img src = "messages_appscreen.jpg">
	</div>
		<div id = "music">
		<img src = "music_appscreen.jpg">
	</div>	
	<div id = "numbers">
		<img src = "numbers_appscreen.jpg">
	</div>	
	<div id = "pages">
		<img src = "pages_appscreen.jpg">
	</div>
	<canvas id="home" width="50" height="50" onclick="backtohome()"></canvas>
 <script>

 	var myVar=setInterval(function(){myTimer()},1000);

	function myTimer() {
 	   var d = new Date();
 	   document.getElementById("time").innerHTML = d.toLocaleTimeString();
 	   document.getElementById("date").innerHTML = d.toDateString();
	}

	function getRandom(min, max) {
    	return Math.floor(Math.random() * (max - min + 1)) + min;
	}

	var name1;
	var name2;
	var name3;
	var name4;
	cavname();

	function cavname(){
		var num1 = getRandom(1,20);	
		name1 = 'c'+num1;
		var num2 = getRandom(1,20);
		while(num2 == num1){
			num2 = getRandom(1,20);
		}	
		name2 = 'c'+num2;
		var num3 = getRandom(1,20);
		while(num3 == num1 || num3 == num2){
			num3 = getRandom(1,20);
		}	
		name3 = 'c'+num3;
		var num4 = getRandom(1,20);
		while(num4 == num1 || num4 == num2 || num4 == num3){
			num4 = getRandom(1,20);
		}	
		name4 = 'c'+num4;
		//alert(name1 + " "+name2 + " " + name3 + " "+ name4);
	}
	var canvas1 = document.getElementById(name1),
	context1 = canvas1.getContext('2d');
	var canvas2 = document.getElementById(name2),
	context2 = canvas2.getContext('2d');
	var canvas3 = document.getElementById(name3),
	context3 = canvas3.getContext('2d');
	var canvas4 = document.getElementById(name4),
	context4 = canvas4.getContext('2d');

	var canPic = {};
	for (var i = 1; i <= 20; i++)
		canPic["c" + i] = "";
	make_base();

	function make_base()
	{
  		base_image1 = new Image();
  		base_image1.src = 'messages.png';
  		base_image1.draggable="true";
  		base_image2 = new Image();
  		base_image2.src = 'music.png';
  		base_image3 = new Image();
  		base_image3.src = 'numbers.png';
  		base_image4 = new Image();
  		base_image4.src = 'pages.png';
  		canPic[name1] = base_image1.src;
  		canPic[name2] = base_image2.src;
  		canPic[name3] = base_image3.src;
  		canPic[name4] = base_image4.src;

  		base_image4.onload = function(){
    	context1.drawImage(base_image1, 3, 3);
    	context2.drawImage(base_image2, 3, 3);
    	context3.drawImage(base_image3, 3, 3);
    	context4.drawImage(base_image4, 3, 3);
  		}
	}
	var cell =document.querySelectorAll('.sbIcon');
	for(var i=0;i<cell.length;i++){
		cell[i].addEventListener('click',function(ev) {
			if (canPic[ev.target.id] != "")
			{
				var list = canPic[ev.target.id].split('.')[0].split('/');
				var target = list[list.length - 1];
				swap(target, 'iphone');
				namename = {messages: 1, music: 2, numbers: 3, pages: 4};
				cur = namename[target];
			}
		},false);
	}

function swap(one, two) {
    document.getElementById(one).style.display = 'block';
    document.getElementById(two).style.display = 'none';
}
function swapback(one, two) {
    document.getElementById(one).style.display = 'none';
    document.getElementById(two).style.display = 'block';
}
var cur = 0;
/*
function showup1(event)
{
      swap('message','iphone');
      cur = 1;
}
function showup2(event)
{
      swap('music','iphone');
            cur = 2;
}
function showup3(event)
{
      swap('numbers','iphone');
            cur = 3;
}
function showup4(event)
{
      swap('pages','iphone');
            cur = 4;
}*/
function backtohome(){
	if(cur == 1){
		swapback('messages','iphone');
	}
	else if (cur == 2){
		swapback('music','iphone');
	}
	else if (cur == 3){
      	swapback('numbers','iphone');
	}
	else if (cur == 4){
      	swapback('pages','iphone');
	}
}
function drag(ev)
{
	ev.dataTransfer.setData("Text",ev.target.id);
}
function drop(ev)
{
ev.preventDefault();
var data=ev.dataTransfer.getData("Text");
// var myElement = document.querySelector("#"+canvas);
// 	alert(myElement.style.top);
// var temtop = myElement.style.top;
// var temleft = myElement.style.left;

// var myElement2 = document.querySelector("#"+ev.target.id);
// myElement.style.top=myElement2.style.top;
// myElement.style.left=myElement2.style.left ;
// myElement2.style.left= temleft;
// myElement2.style.top= temtop;
document.getElementById(data).getContext('2d'). clearRect(0,0,60,60);
img = new Image();
img.src = canPic[data];
document.getElementById(ev.target.id).getContext('2d').drawImage(img, 3, 3);
canPic[ev.target.id] = img.src;
canPic[data] = "";
}
function allowDrop(ev)
{
ev.preventDefault();
}
 </script>

</body>
</html>